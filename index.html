<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/favicon.png" type="image/png">
    <title>Sissi's Sketchbook</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            min-height: 100vh;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            font-family: "Georgia", "Songti SC", serif;
        }
        .book-wrapper {
            position: relative;
            width: 100%;
            max-width: 1600px;
    width: 98vw;
            aspect-ratio: 16 / 10;
            background: url("assets/book-template.jpg") no-repeat center;
            background-size: contain;
        }
        .book-pages {
            position: absolute;
            inset: 12% 8% 15% 8%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2%;
            pointer-events: none;
        }
        .book-pages > * {
            pointer-events: auto;
        }
        .page {
            min-height: 0;
            overflow: visible;
        }
        .page-left {
            padding: 1rem;
            position: relative;
        }
        .book-item {
            position: absolute;
            cursor: move;
            z-index: 2;
            display: inline-block;
        }
        .book-item img {
            display: block;
            width: auto;
            pointer-events: none;
        }
        .book-item--word-web img { max-height: 140px; }
        .book-item--observation img { max-height: 140px; }
        .book-item--small-book img { max-height: 230px; }
        .book-item--cursive img { max-height: 250px; }
        .book-item--yzk img { max-height: 100px; }
        .book-item--snoopy img { max-height: 230px; }
        .book-item--sticker img { max-height: 370px; }
        .book-item--me img { max-height:140px; }
        .book-item--arrow img { max-height: 120px; }
        .book-item--cams-world img { max-height: 130px; }
        .book-item--cam img { max-height: 130px; }
        .book-item--japanese img { max-height: 180px; }
        .book-item--person img { max-height: 530px; }
        .book-item--scrapbook img { max-height: 200px; }
        .book-item--im img { max-height: 200px; }
        .book-item--rabbit img { max-height:220px; }
        .book-item--milky-way img { max-height: 250px; }
        .book-item--cursive-corner img { max-height: 140px; }
        .book-item--point img { max-height: 140px; }
        .book-item--ahhhh img { max-height: 230px; }
        .book-item--radiohead img { max-height: 280px; }
        .book-item--behind {
            z-index: 1;
        }
        .page-right {
            padding: 1rem;
            position: relative;
        }
        /* Mood overlay - not draggable */
        .mood-overlay {
            position: fixed;
            inset: 0;
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.4s ease-out;
        }
        .mood-overlay.is-visible {
            opacity: 1;
        }
        .mood-overlay.is-fading {
            opacity: 0;
            transition: opacity 2.5s ease-out;
        }
        .mood-overlay img {
            max-width: 80vw;
            max-height: 80vh;
            object-fit: contain;
        }
    </style>
</head>
<body>
    <div class="book-wrapper">
        <div class="book-pages">
            <div class="page page-left">
                <a href="#" class="book-item book-item--word-web" id="word-web-item" style="left: 8%; top: -10%;" title="draggable">
                    <img src="assets/word-web.png" alt="WORD WEB" draggable="false">
                </a>
                <a href="#" class="book-item book-item--observation" style="left: 12%; top: 7%;" title="draggable">
                    <img src="assets/observation.png" alt="" draggable="false">
                </a>
                <a href="https://youtu.be/nLlwQS77ULM?si=-13tSnAugLLrZzE-" target="_blank" class="book-item book-item--small-book" style="left: 8%; bottom: -14%;" title="draggable">
                    <img src="assets/small-book.png" alt="" draggable="false">
                </a>
                <a href="https://open.spotify.com/track/2fuYa3Lx06QQJAm0MjztKr?si=4b405d23783c4c6d" target="_blank" class="book-item book-item--radiohead" style="left:8%; top: 43%; transform: translateY(-50%);" title="draggable">
                    <img src="assets/radiohead.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--cursive" style="left: 30%; top: 73%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/cursive.png" alt="" draggable="false">
                </a>
                <a href="javascript:void(0)" class="book-item book-item--yzk" id="yzk-item" style="left: 71%; bottom:-8%; transform: translateX(-50%);" title="draggable">
                    <img src="assets/yzk.png" alt="" draggable="false">
                </a>
                <a href="https://youtu.be/7Az8BQYzUDo?si=gQt7EbURmUz2QmTh" target="_blank" class="book-item book-item--snoopy book-item--behind" style="left: 76%; top: 70%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/snoopy.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--sticker" style="left: 72%; top: 70%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/sticker.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--me" style="left: 80%; top: 25%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/me.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--arrow" style="left: 90%; top: 85%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/arrow.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--point" style="left: 70%; top: 40%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/point.png" alt="" draggable="false">
                </a>
                <a href="https://www.cameronsworld.net/" target="_blank" class="book-item book-item--cams-world" style="right: 5%; bottom: -21%;" title="draggable">
                    <img src="assets/cam%27s%20world.png" alt="" draggable="false">
                </a>
                <a href="https://en.wikipedia.org/wiki/James_Cameron" target="_blank" class="book-item book-item--cam" style="right: 0; bottom: -12%;" title="draggable">
                    <img src="assets/cam.png" alt="" draggable="false">
                </a>
            </div>
            <div class="page page-right">
                <a href="#" class="book-item book-item--japanese" style="left: -4%; top: -10%;" title="draggable">
                    <img src="assets/japanese.png" alt="" draggable="false">
                </a>
                <a href="https://youtu.be/Bw-5Lka7gPE?si=5GlPqL5_hiNw5hGN" target="_blank" class="book-item book-item--person" style="right: 10%; top: -15%;" title="draggable">
                    <img src="assets/person.png" alt="" draggable="false">
                </a>
                <a href="https://pin.it/5xAkDE1fF" target="_blank" class="book-item book-item--scrapbook" style="left: 18%; top: 20%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/scrapbook.png" alt="" draggable="false">
                </a>
                <a href="https://teaching.rice.edu/canvas" target="_blank" class="book-item book-item--ahhhh" style="left: 20%; top: 45%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/ahhhh.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--cursive-corner" style="right: 8%; bottom: 10%;" title="draggable">
                    <img src="assets/cursive-corner.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--im" style="left: 38%; top: 70%; transform: translate(-50%, -50%);" title="draggable">
                    <img src="assets/I%27m.png" alt="" draggable="false">
                </a>
                <a href="#" class="book-item book-item--milky-way" style="right: 12%; bottom: -15%;" title="draggable">
                    <img src="assets/milky%20way.png" alt="" draggable="false">
                </a>
                <a href="https://youtu.be/h3nlE46HErA?si=3d-e2zPgnk_IU_xH" target="_blank" class="book-item book-item--rabbit" style="left:25%; bottom: -18%; transform: translateX(-50%);" title="draggable">
                    <img src="assets/rabbit.png" alt="" draggable="false">
                </a>
            </div>
        </div>
    </div>
    <div class="mood-overlay" id="mood-overlay" aria-hidden="true">
        <img src="assets/mood.png" alt="">
    </div>
    <script>
        (function () {
            var items = document.querySelectorAll('.book-item');
            items.forEach(function (el) {
                var dragging = false;
                var startX, startY, startLeft, startTop;
                el.addEventListener('mousedown', function (e) {
                    if (e.button !== 0) return;
                    dragging = false;
                    startX = e.clientX;
                    startY = e.clientY;
                    var rect = el.getBoundingClientRect();
                    startLeft = rect.left;
                    startTop = rect.top;
                    document.addEventListener('mousemove', onMove);
                    document.addEventListener('mouseup', onUp);
                });
                function onMove(e) {
                    var dx = e.clientX - startX;
                    var dy = e.clientY - startY;
                    if (!dragging && (Math.abs(dx) > 4 || Math.abs(dy) > 4)) dragging = true;
                    var parent = el.parentElement;
                    var parentRect = parent.getBoundingClientRect();
                    var leftPx = startLeft + dx - parentRect.left;
                    var topPx = startTop + dy - parentRect.top;
                    el.style.right = '';
                    el.style.bottom = '';
                    el.style.transform = '';
                    el.style.left = (leftPx / parentRect.width * 100) + '%';
                    el.style.top = (topPx / parentRect.height * 100) + '%';
                }
                function onUp() {
                    document.removeEventListener('mousemove', onMove);
                    document.removeEventListener('mouseup', onUp);
                    if (dragging) {
                        el.dataset.justDragged = '1';
                        setTimeout(function () { delete el.dataset.justDragged; }, 100);
                    }
                }
                el.addEventListener('click', function (e) {
                    if (el.dataset.justDragged === '1') {
                        e.preventDefault();
                    }
                });
            });
            // YZK: click to show mood.png, then fade out slowly
            var yzkEl = document.getElementById('yzk-item');
            var moodOverlay = document.getElementById('mood-overlay');
            if (yzkEl && moodOverlay) {
                yzkEl.addEventListener('click', function (e) {
                    if (yzkEl.dataset.justDragged === '1') return;
                    e.preventDefault();
                    e.stopPropagation();
                    moodOverlay.classList.remove('is-fading');
                    moodOverlay.classList.add('is-visible');
                    moodOverlay.setAttribute('aria-hidden', 'false');
                    setTimeout(function () {
                        moodOverlay.classList.add('is-fading');
                        setTimeout(function () {
                            moodOverlay.classList.remove('is-visible', 'is-fading');
                            moodOverlay.setAttribute('aria-hidden', 'true');
                        }, 2500);
                    }, 1500);
                });
            }
        })();
    </script>
</body>
</html>
